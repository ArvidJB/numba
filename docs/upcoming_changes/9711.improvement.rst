Improve dead branch pruning
---------------------------

Dead-branch pruning is improved to support cases when the predicate expression
is dependent on a variable that changes type later.
